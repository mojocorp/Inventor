.TH makemake 1B
.SH NAME
makemake \- Generates Makefiles for a directory in the Inventor tree.
.SH SYNOPSIS
.nf
makemake
.sp
.fi
.SH DESCRIPTION
.B makemake
is used to automatically generate Makefiles for libraries and commands
in the Inventor tree (usr/src/apps/Inventor, and usr/src/toolkits/Inventor/libso).
Run makemake for a library or program whenever
a source file is added or removed, or whenever dependencies are changed.
A developer may set dependencies to libraries under development through
the
.B make.setup
file.
.PP
.B makemake
will create a Makefile in the topmost directory of a program or library,
as well as a Makefile in the src directory and any subdirectories under src.
It will run
.B mkdepend
to create a dependency list in each source directory, storing
the information for each directory in a file called
.B Makedepend.
Once the Makefiles are in place,
.B make
can be run from the topmost directory of the program or library (and should
always be run from this topmost directory).
.PP
The
.B make.setup
file is used to guide makemake in generating the Makefiles.
There are four fields in a make.setup file, to be used as follows:
.TP 8
.B _VERSION:
either debug, optimize, or profile
.TP
.B _DEVELOP_LIBS:
list of libraries under development (e.g. rend util)
.TP
.B _DEFINES:
to set #defines for the compiler
.TP
.B _LINK_LIBS:
libraries to link with (e.g. rend util gl_s m)
Note that _LINK_LIBS is only found in make.setup files for programs.
If a library listed on this line begins with '/' or '$(ROOT)', it is assumed
that name is the full path name of the library to link with. This is
useful for linking with libraries outside of Inventor that are not
found in /usr/lib.
.TP
.B _EXTRA_SRCDIRS:
list any extra src directories besides src and its subdirectories.
Do not list src or directories under src - they are automatically found
by makemake.
An extra src directory should only exist if the Makefile for it
cannot follow the standard scheme as generated by makemake.
Note that makemake will not generated a Makefile for any directory
listed in this field (unless the directory is found under src).
Do not use this field unless you absolutely have to!
.PP
When running 
.B make,
all targets valid in the SGI make scheme are valid here.
For instance, make clean, clobber, rmtargets, and install are all valid.
Additionally, make doc will run nroff on the man page without installing it.
Running make without naming a target will simply make the library
or program without installing it. Keep in mind that the version made
is dependent on _VERSION in make.setup (debug, optimize, or profile).
.PP
Two environment variables must be set to run
.B makemake
and 
.B make.
Set
.B $ROOT
to be the root directory of a local SGI tree (e.g. /gr/mott/jake).
Set
.B $MACHINE
to the machine you are building for (e.g. sgi4d).
(Currently, sgi4d is the only machine supported.)
.SH OPTIONS
.TP 8
none
.SH DIAGNOSTICS
.B makemake fatal error:
makemake must be run from the topmost directory
of a program or library, and there must be a make.setup file.
.PP
.B makemake warning:
source code must be in the src directory (or subdirectories of src).
.PP
.B makemake warning:
makemake cannot be run to generate the Makefile for makemake.
.SH BUGS
none reported
.SH AUTHOR
David Mott
